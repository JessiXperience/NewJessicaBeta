package jessica.modules;

import jessica.module.Category;
import jessica.module.Module;
import jessica.Wrapper;
import net.minecraft.block.Block;
import net.minecraft.network.Packet;
import net.minecraft.network.play.client.CPacketPlayerDigging;
import net.minecraft.util.math.BlockPos;

public class BedExploit extends Module {
  int xPos;
  
  int yPos;
  
  int zPos;
  
  public BedExploit() {
    super("BedExploit", Category.EXPLOIT);
  }
  
  public void onUpdate() {
    for (int x = -4; x < 4; x++) {
      for (int y = 4; y > -4; y--) {
        for (int z = -4; z < 4; z++) {
          this.xPos = (int)(Wrapper.player()).posX + x;
          this.yPos = (int)(Wrapper.player()).posY + y;
          this.zPos = (int)(Wrapper.player()).posZ + z;
          BlockPos blockPos = new BlockPos(this.xPos, this.yPos, this.zPos);
          Block block = Wrapper.world().getBlockState(blockPos).getBlock();
          if (block instanceof net.minecraft.block.BlockBed) {
            Wrapper.sendPacket((Packet)new CPacketPlayerDigging(CPacketPlayerDigging.Action.START_DESTROY_BLOCK, blockPos, (Wrapper.mc()).objectMouseOver.sideHit));
            Wrapper.sendPacket((Packet)new CPacketPlayerDigging(CPacketPlayerDigging.Action.STOP_DESTROY_BLOCK, blockPos, (Wrapper.mc()).objectMouseOver.sideHit));
          } 
        } 
      } 
    } 
  }
}
